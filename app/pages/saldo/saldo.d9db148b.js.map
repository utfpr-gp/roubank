{"mappings":"AAwCAA,GAAE,eAGIC,EAFaC,aAAaC,QArCV,aAuCI,aAAe,qBACvCH,EAAE,SAASI,KAAKH,GAChBD,EAAE,WAAWI,KAAK,gBAElBC,YAAW,WACTL,EAAE,YAAYM,UACdC,SAASC,cAAc,SAASC,iBA9BvBC,MAAOC,gBA+Bf,QC9BLC,OAAOC,OAAS,YAZhB,eACMC,EAAaC,WAAWb,aAAaC,QDNzB,WCOhBW,GDCyB,ICAzBZ,aAAac,QDRG,SCQsBF,OAElCG,EAAOC,KAAKC,MAAMjB,aAAaC,QDXhB,gBCYnBH,EAAE,kBAAkBoB,KAAK,MAAQH,EAAKI,QAAQC,QAAQ,IAOtDC","sources":["./app/util/shared.js","./app/pages/saldo/balance.js"],"sourcesContent":["'use strict';\r\n\r\nconst USERNAME_KEY = 'tomaz.leite';\r\nconst COSTS_KEY = 'custos';\r\nconst LOGGED_IN_KEY = 'eh_logado';\r\n\r\nexport const WITHDRAW_TYPE = 'saque';\r\nexport const DEPOSIT_TYPE = 'deposito';\r\n\r\nexport const TAX_DEPOSIT = 0.01;\r\nexport const TAX_WITHDRAW = 0.02;\r\nexport const TAX_BALANCE = 0.25;\r\nexport const TAX_BANK_STATEMENT = 0.25;\r\n\r\n/**\r\n * Retorna o ano corrente com quatro dígitos.\r\n * @returns\r\n */\r\nfunction currentYear() {\r\n  return new Date().getFullYear();\r\n}\r\n\r\nfunction formatZero(date) {\r\n  return parseInt(date) < 10 ? '0' + date : date;\r\n}\r\n\r\nexport function formatFullDate(d) {\r\n  return (\r\n    formatZero(d.getDate()) +\r\n    '/' +\r\n    formatZero(d.getMonth()) +\r\n    '/' +\r\n    formatZero(d.getFullYear())\r\n  );\r\n}\r\n\r\n/**\r\n * Configurações da tela realizadas no carregamento da aplicação\r\n * de acordo com o estado de login do usuário.\r\n */\r\n$(function () {\r\n  let isLoggedIn = localStorage.getItem(LOGGED_IN_KEY);\r\n\r\n  let menu = isLoggedIn ? '/menu.html' : '/menu-anonimo.html';\r\n  $('#menu').load(menu);\r\n  $('#footer').load('/footer.html');\r\n\r\n  setTimeout(function () {\r\n    $('.sidenav').sidenav();\r\n    document.querySelector('#year').textContent = currentYear();\r\n  }, 1000);\r\n});\r\n\r\nexport { USERNAME_KEY, COSTS_KEY as TOTAL_COSTS_KEY, LOGGED_IN_KEY };\r\n","'use strict';\r\n\r\nimport {\r\n  TAX_BALANCE,\r\n  TOTAL_COSTS_KEY,\r\n  USERNAME_KEY,\r\n} from '../../util/shared.js';\r\n\r\nfunction doBalance() {\r\n  let totalCosts = parseFloat(localStorage.getItem(TOTAL_COSTS_KEY));\r\n  totalCosts += TAX_BALANCE;\r\n  localStorage.setItem(TOTAL_COSTS_KEY, totalCosts);\r\n\r\n  let user = JSON.parse(localStorage.getItem(USERNAME_KEY));\r\n  $('#balance-panel').html('R$ ' + user.balance.toFixed(2));\r\n}\r\n\r\n/**\r\n * Dispara quando o DOM está pronto e também os recursos dependentes (CSS, Imagens e JS)\r\n */\r\nwindow.onload = function () {\r\n  doBalance();\r\n};\r\n"],"names":["$","menu","localStorage","getItem","load","setTimeout","sidenav","document","querySelector","textContent","Date","getFullYear","window","onload","totalCosts","parseFloat","setItem","user","JSON","parse","html","balance","toFixed","$894f8418e215e4ab50a0ce99cbe6755e$var$doBalance"],"version":3,"file":"saldo.d9db148b.js.map"}