{"mappings":"AAwCAA,GAAE,eAGIC,EAFaC,aAAaC,QArCV,aAuCI,aAAe,qBACvCH,EAAE,SAASI,KAAKH,GAChBD,EAAE,WAAWI,KAAK,gBAElBC,YAAW,WACTL,EAAE,YAAYM,UACdC,SAASC,cAAc,SAASC,iBA9BvBC,MAAOC,gBA+Bf,QC9CLC,OAAOC,OAAS,WAEdN,SAASO,MAAM,GAAGC,SAAW,SAAUC,GACrCA,EAAEC,uBAEIC,EAAWX,SAASC,cAAc,mBAAmBW,MACrDC,EAAWb,SAASC,cAAc,mBAAmBW,MAErDE,EAAOC,KAAKC,MAAMrB,aAAaC,QDVpB,gBCYbe,IAAaG,EAAKH,UAAYE,IAAaC,EAAKD,UAClDlB,aAAasB,QDXG,aCWoB,GACpCZ,OAAOa,KAAK,cAAe,UAEI,IAA3BP,EAASQ,OAAOC,QAA2C,IAA3BP,EAASM,OAAOC,OAClDC,SAASC,MAAM,+CAEfjB,OAAOP,YAAW,KAChBuB,SAASE,MACP,UACA,0EAED","sources":["./app/util/shared.js","./app/pages/login/login.js"],"sourcesContent":["'use strict';\r\n\r\nconst USERNAME_KEY = 'tomaz.leite';\r\nconst COSTS_KEY = 'custos';\r\nconst LOGGED_IN_KEY = 'eh_logado';\r\n\r\nexport const WITHDRAW_TYPE = 'saque';\r\nexport const DEPOSIT_TYPE = 'deposito';\r\n\r\nexport const TAX_DEPOSIT = 0.01;\r\nexport const TAX_WITHDRAW = 0.02;\r\nexport const TAX_BALANCE = 0.25;\r\nexport const TAX_BANK_STATEMENT = 0.25;\r\n\r\n/**\r\n * Retorna o ano corrente com quatro dígitos.\r\n * @returns\r\n */\r\nfunction currentYear() {\r\n  return new Date().getFullYear();\r\n}\r\n\r\nfunction formatZero(date) {\r\n  return parseInt(date) < 10 ? '0' + date : date;\r\n}\r\n\r\nexport function formatFullDate(d) {\r\n  return (\r\n    formatZero(d.getDate()) +\r\n    '/' +\r\n    formatZero(d.getMonth()) +\r\n    '/' +\r\n    formatZero(d.getFullYear())\r\n  );\r\n}\r\n\r\n/**\r\n * Configurações da tela realizadas no carregamento da aplicação\r\n * de acordo com o estado de login do usuário.\r\n */\r\n$(function () {\r\n  let isLoggedIn = localStorage.getItem(LOGGED_IN_KEY);\r\n\r\n  let menu = isLoggedIn ? '/menu.html' : '/menu-anonimo.html';\r\n  $('#menu').load(menu);\r\n  $('#footer').load('/footer.html');\r\n\r\n  setTimeout(function () {\r\n    $('.sidenav').sidenav();\r\n    document.querySelector('#year').textContent = currentYear();\r\n  }, 1000);\r\n});\r\n\r\nexport { USERNAME_KEY, COSTS_KEY as TOTAL_COSTS_KEY, LOGGED_IN_KEY };\r\n","'use strict';\r\n\r\nimport { LOGGED_IN_KEY, USERNAME_KEY } from '../../util/shared.js';\r\n\r\nwindow.onload = function () {\r\n  //trata o login\r\n  document.forms[0].onsubmit = function (e) {\r\n    e.preventDefault();\r\n\r\n    const username = document.querySelector('#input-username').value;\r\n    const password = document.querySelector('#input-password').value;\r\n\r\n    const user = JSON.parse(localStorage.getItem(USERNAME_KEY));\r\n\r\n    if (username === user.username && password === user.password) {\r\n      localStorage.setItem(LOGGED_IN_KEY, true);\r\n      window.open('/index.html', '_SELF');\r\n    } else {\r\n      if (username.trim().length === 0 || password.trim().length === 0) {\r\n        alertify.error('Os campos são de preenchimento obrigatório!');\r\n      } else {\r\n        window.setTimeout(() => {\r\n          alertify.alert(\r\n            'Oppsss!',\r\n            'Por favor, verifique seu nome de usuário ou senha e tente novamente!'\r\n          );\r\n        }, 2000);\r\n      }\r\n    }\r\n  };\r\n};\r\n"],"names":["$","menu","localStorage","getItem","load","setTimeout","sidenav","document","querySelector","textContent","Date","getFullYear","window","onload","forms","onsubmit","e","preventDefault","username","value","password","user","JSON","parse","setItem","open","trim","length","alertify","error","alert"],"version":3,"file":"login.b3e921a2.js.map"}